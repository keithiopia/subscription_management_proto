function dean_addEvent(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else{n.$$guid||(n.$$guid=dean_addEvent.guid++),t.events||(t.events={});var i=t.events[e];i||(i=t.events[e]={},t["on"+e]&&(i[0]=t["on"+e])),i[n.$$guid]=n,t["on"+e]=handleEvent}}function removeEvent(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.events&&t.events[e]&&delete t.events[e][n.$$guid]}function handleEvent(t){var e=!0;t=t||fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var n=this.events[t.type];for(var i in n)this.$$handleEvent=n[i],!1===this.$$handleEvent(t)&&(e=!1);return e}function fixEvent(t){return t.preventDefault=fixEvent.preventDefault,t.stopPropagation=fixEvent.stopPropagation,t}function govspeakBarcharts(){$(".js-barchart-table").each(function(){$.magnaCharta($(this),{toggleText:"Change between chart and table"})})}!function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,i){var a=t.Event(n);return e.trigger(a,i),!1!==a.result},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&!1!==t.data("remote")},handleRemote:function(i){var a,s,o,r,l,u;if(n.fire(i,"ajax:before")){if(r=i.data("with-credentials")||null,l=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){a=i.data("ujs:submit-button-formmethod")||i.attr("method"),s=i.data("ujs:submit-button-formaction")||i.attr("action"),o=t(i[0]).serializeArray();var c=i.data("ujs:submit-button");c&&(o.push(c),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(a=i.data("method"),s=i.data("url"),o=i.serialize(),i.data("params")&&(o=o+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(a=i.data("method")||"get",s=i.data("url"),o=i.serialize(),i.data("params")&&(o=o+"&"+i.data("params"))):(a=i.data("method"),s=n.href(i),o=i.data("params")||null);return u={type:a||"GET",data:o,dataType:l,beforeSend:function(t,a){if(a.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+a.accepts.script),!n.fire(i,"ajax:beforeSend",[t,a]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(s)},r&&(u.xhrFields={withCredentials:r}),s&&(u.url=s),n.ajax(u)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(t){return!0}},handleMethod:function(i){var a=n.href(i),s=i.data("method"),o=i.attr("target"),r=n.csrfToken(),l=n.csrfParam(),u=t('<form method="post" action="'+a+'"></form>'),c='<input name="_method" value="'+s+'" type="hidden" />';l===e||r===e||n.isCrossDomain(a)||(c+='<input name="'+l+'" value="'+r+'" type="hidden" />'),o&&u.attr("target",o),u.hide().append(c).appendTo("body"),u.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,i;n=t.is("button")?"html":"val",i=t.data("disable-with"),i!==e&&(t.data("ujs:enable-with",t[n]()),t[n](i)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[n](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,i=t.data("confirm"),a=!1;if(!i)return!0;if(n.fire(t,"confirm")){try{a=n.confirm(i)}catch(t){(console.error||console.log).call(console,t.stack||t)}e=n.fire(t,"confirm:complete",[a])}return a&&e},blankInputs:function(e,n,i){var a,s,o,r,l=t(),u=n||"input,textarea",c=e.find(u),d={};return c.each(function(){a=t(this),a.is("input[type=radio]")?(r=a.attr("name"),d[r]||(0===e.find('input[type=radio]:checked[name="'+r+'"]').length&&(o=e.find('input[type=radio][name="'+r+'"]'),l=l.add(o)),d[r]=r)):(s=a.is("input[type=checkbox],input[type=radio]")?a.is(":checked"):!!a.val())===i&&(l=l.add(a))}),!!l.length&&l},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var i=t.data("disable-with");i!==e&&(t.data("ujs:enable-with",t.html()),t.html(i)),t.bind("click.railsDisable",function(t){return n.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),i.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(t(this))}),i.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(t(this))}),i.on("click.rails",n.linkClickSelector,function(e){var i=t(this),a=i.data("method"),s=i.data("params"),o=e.metaKey||e.ctrlKey;if(!n.allowAction(i))return n.stopEverything(e);if(!o&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(o&&(!a||"GET"===a)&&!s)return!0;var r=n.handleRemote(i);return!1===r?n.enableElement(i):r.fail(function(){n.enableElement(i)}),!1}return a?(n.handleMethod(i),!1):void 0}),i.on("click.rails",n.buttonClickSelector,function(e){var i=t(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(e);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var a=n.handleRemote(i);return!1===a?n.enableFormElement(i):a.fail(function(){n.enableFormElement(i)}),!1}),i.on("change.rails",n.inputChangeSelector,function(e){var i=t(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.on("submit.rails",n.formSubmitSelector,function(i){var a,s,o=t(this),r=n.isRemote(o);if(!n.allowAction(o))return n.stopEverything(i);if(o.attr("novalidate")===e)if(o.data("ujs:formnovalidate-button")===e){if((a=n.blankInputs(o,n.requiredInputSelector,!1))&&n.fire(o,"ajax:aborted:required",[a]))return n.stopEverything(i)}else o.data("ujs:formnovalidate-button",e);if(r){if(s=n.nonBlankInputs(o,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(o)},13);var l=n.fire(o,"ajax:aborted:file",[s]);return l||setTimeout(function(){n.enableFormElements(o)},13),l}return n.handleRemote(o),!1}setTimeout(function(){n.disableFormElements(o)},13)}),i.on("click.rails",n.formInputClickSelector,function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var a=i.attr("name"),s=a?{name:a,value:i.val()}:null,o=i.closest("form");0===o.length&&(o=t("#"+i.attr("form"))),o.data("ujs:submit-button",s),o.data("ujs:formnovalidate-button",i.attr("formnovalidate")),o.data("ujs:submit-button-formaction",i.attr("formaction")),o.data("ujs:submit-button-formmethod",i.attr("formmethod"))}),i.on("ajax:send.rails",n.formSubmitSelector,function(e){this===e.target&&n.disableFormElements(t(this))}),i.on("ajax:complete.rails",n.formSubmitSelector,function(e){this===e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),function(t,e){function n(e,n){var a,s,o,r=e.nodeName.toLowerCase();return"area"===r?(a=e.parentNode,s=a.name,!(!e.href||!s||"map"!==a.nodeName.toLowerCase())&&(!!(o=t("img[usemap=#"+s+"]")[0])&&i(o))):(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var a=0,s=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(n){if(n!==e)return this.css("zIndex",n);if(this.length)for(var i,a,s=t(this[0]);s.length&&s[0]!==document;){if(("absolute"===(i=s.css("position"))||"relative"===i||"fixed"===i)&&(a=parseInt(s.css("zIndex"),10),!isNaN(a)&&0!==a))return a;s=s.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return n(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),a=isNaN(i);return(a||i>=0)&&n(e,!a)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(n,i){function a(e,n,i,a){return t.each(s,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),a&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var s="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(n){return n===e?r["inner"+i].call(this):this.each(function(){t(this).css(o,a(this,n)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?r["outer"+i].call(this,e):this.each(function(){t(this).css(o,a(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,n,i){var a,s=t.ui[e].prototype;for(a in i)s.plugins[a]=s.plugins[a]||[],s.plugins[a].push([n,i[a]])},call:function(t,e,n){var i,a=t.plugins[e];if(a&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;i<a.length;i++)t.options[a[i][0]]&&a[i][1].apply(t.element,n)}},hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",a=!1;return e[i]>0||(e[i]=1,a=e[i]>0,e[i]=0,a)}})}(jQuery),function(t,e){var n=0,i=Array.prototype.slice,a=t.cleanData;t.cleanData=function(e){for(var n,i=0;null!=(n=e[i]);i++)try{t(n).triggerHandler("remove")}catch(t){}a(e)},t.widget=function(e,n,i){var a,s,o,r,l={},u=e.split(".")[0];e=e.split(".")[1],a=u+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][a.toLowerCase()]=function(e){return!!t.data(e,a)},t[u]=t[u]||{},s=t[u][e],o=t[u][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,s,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),r=new n,r.options=t.widget.extend({},r.options),t.each(i,function(e,i){if(!t.isFunction(i))return void(l[e]=i);l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},a=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,s=this._superApply;return this._super=t,this._superApply=a,e=i.apply(this,arguments),this._super=n,this._superApply=s,e}}()}),o.prototype=t.widget.extend(r,{widgetEventPrefix:s?r.widgetEventPrefix:e},l,{constructor:o,namespace:u,widgetName:e,widgetFullName:a}),s?(t.each(s._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o)},t.widget.extend=function(n){for(var a,s,o=i.call(arguments,1),r=0,l=o.length;r<l;r++)for(a in o[r])s=o[r][a],o[r].hasOwnProperty(a)&&s!==e&&(t.isPlainObject(s)?n[a]=t.isPlainObject(n[a])?t.widget.extend({},n[a],s):t.widget.extend({},s):n[a]=s);return n},t.widget.bridge=function(n,a){var s=a.prototype.widgetFullName||n;t.fn[n]=function(o){var r="string"==typeof o,l=i.call(arguments,1),u=this;return o=!r&&l.length?t.widget.extend.apply(null,[o].concat(l)):o,r?this.each(function(){var i,a=t.data(this,s);return a?t.isFunction(a[o])&&"_"!==o.charAt(0)?(i=a[o].apply(a,l),i!==a&&i!==e?(u=i&&i.jquery?u.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+n+" widget instance"):t.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,s);e?e.option(o||{})._init():t.data(this,s,new a(o,this))}),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,i){var a,s,o,r=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(r={},a=n.split("."),n=a.shift(),a.length){for(s=r[n]=t.widget.extend({},this.options[n]),o=0;o<a.length-1;o++)s[a[o]]=s[a[o]]||{},s=s[a[o]];if(n=a.pop(),i===e)return s[n]===e?null:s[n];s[n]=i}else{if(i===e)return this.options[n]===e?null:this.options[n];r[n]=i}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,n,i){var a,s=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=a=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,a=this.widget()),t.each(i,function(i,o){function r(){if(e||!0!==s.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof o?s[o]:o).apply(s,arguments)}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||t.guid++);var l=i.match(/^(\w+)\s*(.*)$/),u=l[1]+s.eventNamespace,c=l[2];c?a.delegate(c,u,r):n.bind(u,r)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var a,s,o=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(a in s)a in n||(n[a]=s[a]);return this.element.trigger(n,i),!(t.isFunction(o)&&!1===o.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,a,s){"string"==typeof a&&(a={effect:a});var o,r=a?!0===a||"number"==typeof a?n:a.effect||n:e;a=a||{},"number"==typeof a&&(a={duration:a}),o=!t.isEmptyObject(a),a.complete=s,a.delay&&i.delay(a.delay),o&&t.effects&&t.effects.effect[r]?i[e](a):r!==e&&i[r]?i[r](a.duration,a.easing,s):i.queue(function(n){t(this)[e](),s&&s.call(i[0]),n()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,a=1===n.which,s=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&t(n.target).closest(this.options.cancel).length;return!(a&&!s&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0))}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,a=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s=[];for(n=i.values&&i.values.length||1,a.length>n&&(a.slice(n).remove(),a=a.slice(0,n)),e=a.length;e<n;e++)s.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=a.add(t(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,n="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=t([])},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var n,i,a,s,o,r,l,u=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),a=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-u.values(e));(a>n||a===n&&(e===u._lastChangedValue||u.values(e)===c.min))&&(a=n,s=t(this),o=e)}),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,s.addClass("ui-state-active").focus(),r=s.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-r.left-s.width()/2,top:e.pageY-r.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,a,s;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/e,i>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),a=this._valueMax()-this._valueMin(),s=this._valueMin()+i*a,this._trimAlignValue(s)},_start:function(t,e){var n={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("start",t,n)},_slide:function(t,e,n){var i,a,s;this.options.values&&this.options.values.length?(i=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&n>i||1===e&&n<i)&&(n=i),n!==this.values(e)&&(a=this.values(),a[e]=n,s=this._trigger("slide",t,{handle:this.handles[e],value:n,values:a}),i=this.values(e?0:1),!1!==s&&this.values(e,n,!0))):n!==this.value()&&!1!==(s=this._trigger("slide",t,{handle:this.handles[e],value:n}))&&this.value(n)},_stop:function(t,e){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("stop",t,n)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,n)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,a,s;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(i=this.options.values,a=arguments[0],s=0;s<i.length;s+=1)i[s]=this._trimAlignValue(a[s]),this._change(null,s);this._refreshValue()},_setOption:function(e,n){var i,a=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(a=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<a;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,n,i,a,s,o=this.options.range,r=this.options,l=this,u=!this._animateOff&&r.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[u?"animate":"css"](c,r.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},r.animate),1===i&&l.range[u?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:r.animate})):(0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},r.animate),1===i&&l.range[u?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:r.animate}))),e=n}):(i=this.value(),a=this._valueMin(),s=this._valueMax(),n=s!==a?(i-a)/(s-a)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](c,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(n){var i,a,s,o=t(n.target).data("ui-slider-handle-index");switch(n.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(n.target).addClass("ui-state-active"),!1===this._start(n,o)))return}switch(s=this.options.step,i=a=this.options.values&&this.options.values.length?this.values(o):this.value(),n.keyCode){case t.ui.keyCode.HOME:a=this._valueMin();break;case t.ui.keyCode.END:a=this._valueMax();break;case t.ui.keyCode.PAGE_UP:a=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;a=this._trimAlignValue(i+s);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;a=this._trimAlignValue(i-s)}this._slide(n,o,a)},click:function(t){t.preventDefault()},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),t(e.target).removeClass("ui-state-active"))}}})
}(jQuery),function(t){var e=function(){this.init=function(e,n){var i={outOf:65,applyOnInit:!0,toggleText:"Toggle between chart and table",autoOutdent:!1,outdentAll:!1};this.options=t.extend({},i,n);var a=function(){var t,e=3,n=document.createElement("div"),i=n.getElementsByTagName("i");do{n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->"}while(e<10&&i[0]);return e>4?e:t}();return this.ENABLED=!(a&&a<8),this.$table=e,this.$graph=t("<div/>").attr("aria-hidden","true"),this.$graph.attr("class",this.$table.attr("class")).addClass("mc-chart"),this.options.stacked=this.$table.hasClass("mc-stacked"),this.options.negative=this.$table.hasClass("mc-negative"),this.options.multiple=!this.options.stacked&&(this.$table.hasClass("mc-multiple")||this.$table.find("tbody tr").first().find("td").length>2),this.options.autoOutdent=this.options.autoOutdent||this.$table.hasClass("mc-auto-outdent"),this.options.outdentAll=this.options.outdentAll||this.$table.hasClass("mc-outdented"),this.options.multiple&&this.$graph.addClass("mc-multiple"),this.options.hasCaption=!!this.$table.find("caption").length,this.ENABLED&&(this.apply(),this.options.applyOnInit||this.toggle()),this}};e.prototype.construct={},e.prototype.construct.thead=function(){var e=t("<div />",{"class":"mc-thead"}),n=t("<div />",{"class":"mc-tr"}),i="";return this.$table.find("th").each(function(e,n){i+='<div class="mc-th">',i+=t(n).html(),i+="</div>"}),n.append(i),e.append(n),e},e.prototype.construct.tbody=function(){var e=t("<div />",{"class":"mc-tbody"});return this.$table.find("tbody tr").each(function(n,i){var a=t("<div />",{"class":"mc-tr"}),s="";t(i).find("td").each(function(e,n){s+='<div class="mc-td">',s+=t(n).html(),s+="</div>"}),a.append(s),e.append(a)}),e},e.prototype.construct.caption=function(){return this.$table.find("caption").clone()},e.prototype.construct.toggleLink=function(){var e=this;return t("<a />",{href:"#","class":"mc-toggle-link",text:this.options.toggleText}).on("click",function(t){e.toggle(t)})},e.prototype.constructChart=function(){var t=this.construct.thead.call(this),e=this.construct.tbody.call(this),n=this.construct.toggleLink.call(this);if(this.options.hasCaption){var i=this.construct.caption.call(this);this.$graph.append(i)}this.$table.before(n),this.$graph.append(t),this.$graph.append(e)},e.prototype.apply=function(){this.ENABLED&&(this.constructChart(),this.addClassesToHeader(),this.calculateMaxWidth(),this.applyWidths(),this.insert(),this.$table.addClass("visually-hidden"),this.applyOutdent())},e.prototype.toggle=function(t){this.$graph.toggle(),this.$table.toggleClass("visually-hidden"),t&&t.preventDefault()},e.prototype.utils={isFloat:function(t){return!isNaN(parseFloat(t))},stripValue:function(t){var e=new RegExp("\\,|\xa3|%|[a-z]","gi");return t.replace(e,"")},returnMax:function(t){for(var e=0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return e},isNegative:function(t){return t<0}},e.prototype.addClassesToHeader=function(){var e=this.$graph.find(".mc-th").filter(":not(:first)");this.options.stacked&&(e.last().addClass("mc-stacked-header mc-header-total"),e=e.filter(":not(:last)")),e.addClass("mc-key-header").filter(":not(.mc-stacked-header)").each(function(e,n){t(n).addClass("mc-key-"+(e+1))})},e.prototype.calculateMaxWidth=function(){var e=this,n=[],i=0;this.$graph.find(".mc-tr").each(function(a,s){var o=t(s),r=o.find(".mc-td:not(:first)");if(e.options.stacked){r.last().addClass("mc-stacked-total");r=r.filter(":not(:last)")}o.find(".mc-td:first").addClass("mc-key-cell");var l=0;r.each(function(a,s){var o=t(s).addClass("mc-bar-cell").addClass("mc-bar-"+(a+1)),r=e.utils.stripValue(o.text());if(e.utils.isFloat(r)){var u=parseFloat(r,10),c=Math.abs(u);0===u&&o.addClass("mc-bar-zero"),e.options.negative&&(e.utils.isNegative(u)?(o.addClass("mc-bar-negative"),c>i&&(i=c)):o.addClass("mc-bar-positive")),u=c,e.options.stacked?l+=u:(l=u,n.push(u))}}),e.options.stacked&&n.push(l)});var a={};return a.max=parseFloat(e.utils.returnMax(n),10),a.single=parseFloat(this.options.outOf/a.max,10),this.options.negative&&(a.marginLeft=parseFloat(i,10)*a.single,a.maxNegative=parseFloat(i,10)),a},e.prototype.applyWidths=function(){this.dimensions=this.calculateMaxWidth();var e=this;this.$graph.find(".mc-tr").each(function(n,i){var a=t(i);a.find(".mc-bar-cell:not(.mc-bar-zero)").length;a.find(".mc-bar-cell").each(function(n,i){var a=t(i),s=parseFloat(e.utils.stripValue(a.text()),10),o=s*e.dimensions.single,r=Math.abs(s),l=Math.abs(o);if(e.options.negative)if(a.hasClass("mc-bar-positive"))a.css("margin-left",e.dimensions.marginLeft+"%");else if(r<e.dimensions.maxNegative){var u=(e.dimensions.maxNegative-r)*e.dimensions.single;a.css("margin-left",u+"%")}a.wrapInner("<span />"),a.css("width",l+"%")})})},e.prototype.insert=function(){this.$table.after(this.$graph)},e.prototype.applyOutdent=function(){var e=this;this.$graph.find(".mc-bar-cell");this.$graph.find(".mc-bar-cell").each(function(n,i){var a=t(i),s=parseFloat(e.utils.stripValue(a.text()),10),o=a.children("span"),r=o.width()+10,l=a.width();parseFloat(a[0].style.width,10),a.height();e.options.stacked?r>l&&s>0&&a.addClass("mc-value-overflow"):(0===s&&a.addClass("mc-bar-outdented"),e.options.autoOutdent&&r>l||e.options.outdentAll?(a.addClass("mc-bar-outdented"),o.css({"margin-left":"100%",display:"inline-block"})):a.addClass("mc-bar-indented"))})},t.magnaCharta=function(t,n){return(new e).init(t,n)}}(jQuery);var stIsIE=!1;if(sorttable={init:function(){arguments.callee.done||(arguments.callee.done=!0,_timer&&clearInterval(_timer),document.createElement&&document.getElementsByTagName&&(sorttable.DATE_RE=/^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/,forEach(document.getElementsByTagName("table"),function(t){-1!=t.className.search(/\bsortable\b/)&&sorttable.makeSortable(t)})))},makeSortable:function(t){if(0==t.getElementsByTagName("thead").length&&(the=document.createElement("thead"),the.appendChild(t.rows[0]),t.insertBefore(the,t.firstChild)),null==t.tHead&&(t.tHead=t.getElementsByTagName("thead")[0]),1==t.tHead.rows.length){sortbottomrows=[];for(var e=0;e<t.rows.length;e++)-1!=t.rows[e].className.search(/\bsortbottom\b/)&&(sortbottomrows[sortbottomrows.length]=t.rows[e]);if(sortbottomrows){null==t.tFoot&&(tfo=document.createElement("tfoot"),t.appendChild(tfo));for(var e=0;e<sortbottomrows.length;e++)tfo.appendChild(sortbottomrows[e]);delete sortbottomrows}headrow=t.tHead.rows[0].cells;for(var e=0;e<headrow.length;e++)headrow[e].className.match(/\bsorttable_nosort\b/)||(mtch=headrow[e].className.match(/\bsorttable_([a-z0-9]+)\b/),mtch&&(override=mtch[1]),mtch&&"function"==typeof sorttable["sort_"+override]?headrow[e].sorttable_sortfunction=sorttable["sort_"+override]:headrow[e].sorttable_sortfunction=sorttable.guessType(t,e),headrow[e].sorttable_columnindex=e,headrow[e].sorttable_tbody=t.tBodies[0],dean_addEvent(headrow[e],"click",sorttable.innerSortFunction=function(){if(-1!=this.className.search(/\bsorttable_sorted\b/))return sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted","sorttable_sorted_reverse"),this.removeChild(document.getElementById("sorttable_sortfwdind")),sortrevind=document.createElement("span"),sortrevind.id="sorttable_sortrevind",sortrevind.innerHTML=stIsIE?'&nbsp<font face="webdings">5</font>':"&nbsp;&#x25B4;",void this.appendChild(sortrevind);if(-1!=this.className.search(/\bsorttable_sorted_reverse\b/))return sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted_reverse","sorttable_sorted"),this.removeChild(document.getElementById("sorttable_sortrevind")),sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':"&nbsp;&#x25BE;",void this.appendChild(sortfwdind);theadrow=this.parentNode,forEach(theadrow.childNodes,function(t){1==t.nodeType&&(t.className=t.className.replace("sorttable_sorted_reverse",""),t.className=t.className.replace("sorttable_sorted",""))}),sortfwdind=document.getElementById("sorttable_sortfwdind"),sortfwdind&&sortfwdind.parentNode.removeChild(sortfwdind),sortrevind=document.getElementById("sorttable_sortrevind"),sortrevind&&sortrevind.parentNode.removeChild(sortrevind),this.className+=" sorttable_sorted",sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':"&nbsp;&#x25BE;",this.appendChild(sortfwdind),row_array=[],col=this.sorttable_columnindex,rows=this.sorttable_tbody.rows;for(var t=0;t<rows.length;t++)row_array[row_array.length]=[sorttable.getInnerText(rows[t].cells[col]),rows[t]];row_array.sort(this.sorttable_sortfunction),tb=this.sorttable_tbody;for(var t=0;t<row_array.length;t++)tb.appendChild(row_array[t][1]);delete row_array}))}},guessType:function(t,e){sortfn=sorttable.sort_alpha;for(var n=0;n<t.tBodies[0].rows.length;n++)if(text=sorttable.getInnerText(t.tBodies[0].rows[n].cells[e]),""!=text){if(text.match(/^-?[\xa3$\xa4]?[\d,.]+%?$/))return sorttable.sort_numeric;if(possdate=text.match(sorttable.DATE_RE),possdate){if(first=parseInt(possdate[1]),second=parseInt(possdate[2]),first>12)return sorttable.sort_ddmm;if(second>12)return sorttable.sort_mmdd;sortfn=sorttable.sort_ddmm}}return sortfn},getInnerText:function(t){if(!t)return"";if(hasInputs="function"==typeof t.getElementsByTagName&&t.getElementsByTagName("input").length,null!=t.getAttribute("sorttable_customkey"))return t.getAttribute("sorttable_customkey");if("undefined"!=typeof t.textContent&&!hasInputs)return t.textContent.replace(/^\s+|\s+$/g,"");if("undefined"!=typeof t.innerText&&!hasInputs)return t.innerText.replace(/^\s+|\s+$/g,"");if("undefined"!=typeof t.text&&!hasInputs)return t.text.replace(/^\s+|\s+$/g,"");switch(t.nodeType){case 3:if("input"==t.nodeName.toLowerCase())return t.value.replace(/^\s+|\s+$/g,"");case 4:return t.nodeValue.replace(/^\s+|\s+$/g,"");case 1:case 11:for(var e="",n=0;n<t.childNodes.length;n++)e+=sorttable.getInnerText(t.childNodes[n]);return e.replace(/^\s+|\s+$/g,"");default:return""}},reverse:function(t){newrows=[];for(var e=0;e<t.rows.length;e++)newrows[newrows.length]=t.rows[e];for(var e=newrows.length-1;e>=0;e--)t.appendChild(newrows[e]);delete newrows},sort_numeric:function(t,e){return aa=parseFloat(t[0].replace(/[^0-9.-]/g,"")),isNaN(aa)&&(aa=0),bb=parseFloat(e[0].replace(/[^0-9.-]/g,"")),isNaN(bb)&&(bb=0),aa-bb},sort_alpha:function(t,e){return t[0]==e[0]?0:t[0]<e[0]?-1:1},sort_ddmm:function(t,e){return mtch=t[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt1=y+m+d,mtch=e[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt1<dt2?-1:1},sort_mmdd:function(t,e){return mtch=t[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt1=y+m+d,mtch=e[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt1<dt2?-1:1},shaker_sort:function(t,e){for(var n=0,i=t.length-1,a=!0;a;){a=!1;for(var s=n;s<i;++s)if(e(t[s],t[s+1])>0){var o=t[s];t[s]=t[s+1],t[s+1]=o,a=!0}if(i--,!a)break;for(var s=i;s>n;--s)if(e(t[s],t[s-1])<0){var o=t[s];t[s]=t[s-1],t[s-1]=o,a=!0}n++}}},document.addEventListener&&document.addEventListener("DOMContentLoaded",sorttable.init,!1),/WebKit/i.test(navigator.userAgent))var _timer=setInterval(function(){/loaded|complete/.test(document.readyState)&&sorttable.init()},10);window.onload=sorttable.init,dean_addEvent.guid=1,fixEvent.preventDefault=function(){this.returnValue=!1},fixEvent.stopPropagation=function(){this.cancelBubble=!0},Array.forEach||(Array.forEach=function(t,e,n){for(var i=0;i<t.length;i++)e.call(n,t[i],i,t)}),Function.prototype.forEach=function(t,e,n){for(var i in t)"undefined"==typeof this.prototype[i]&&e.call(n,t[i],i,t)},String.forEach=function(t,e,n){Array.forEach(t.split(""),function(i,a){e.call(n,i,a,t)})};var forEach=function(t,e,n){if(t){var i=Object;if(t instanceof Function)i=Function;else{if(t.forEach instanceof Function)return void t.forEach(e,n);"string"==typeof t?i=String:"number"==typeof t.length&&(i=Array)}i.forEach(t,e,n)}};Object.create||(Object.create=function(){function t(){}return function(e){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return t.prototype=e,new t}}()),function(t){"use strict";var e=t.GOVUK||{},n=function(t){if(this.trackers=[],"undefined"!=typeof t.universalId){var n=t.universalId;delete t.universalId,this.trackers.push(new e.GoogleAnalyticsUniversalTracker(n,t))}};n.prototype.sendToTrackers=function(t,e){for(var n=0,i=this.trackers.length;n<i;n++){var a=this.trackers[n],s=a[t];"function"==typeof s&&s.apply(a,e)}},n.load=function(){e.GoogleAnalyticsUniversalTracker.load()},n.prototype.trackPageview=function(){this.sendToTrackers("trackPageview",arguments)},n.prototype.trackEvent=function(){this.sendToTrackers("trackEvent",arguments)},n.prototype.trackShare=function(e){this.sendToTrackers("trackSocial",[e,"share",t.location.pathname])},n.prototype.setDimension=function(){this.sendToTrackers("setDimension",arguments)},n.prototype.addLinkedTrackerDomain=function(){this.sendToTrackers("addLinkedTrackerDomain",arguments)},e.Analytics=n,t.GOVUK=e}(window),function(t){"use strict";var e=t.jQuery,n=t.GOVUK||{};n.analyticsPlugins=n.analyticsPlugins||{},n.analyticsPlugins.downloadLinkTracker=function(t){function i(t){var i=a(t),s=i.attr("href"),o={transport:"beacon"},r=e.trim(i.text());r&&(o.label=r),n.analytics.trackEvent("Download Link Clicked",s,o)}function a(t){var n=e(t.target);return n.is("a")||(n=n.parents("a")),n}t=t||{};var s=t.selector;s&&e("body").on("click",s,i)},t.GOVUK=n}(window),function(t){"use strict";var e=t.GOVUK||{};e.analyticsPlugins=e.analyticsPlugins||{},e.analyticsPlugins.error=function(n){function i(t){return!t||!a||!!a.test(t)}n=n||{};var a=n.filenameMustMatch,s=function(t){var n=t.filename,a=n+": "+t.lineno;i(n)&&e.analytics.trackEvent("JavaScript Error",t.message,{label:a,value:1,nonInteraction:!0})};t.addEventListener?t.addEventListener("error",s,!1):t.attachEvent?t.attachEvent("onerror",s):t.onerror=s},t.GOVUK=e}(window),function(t){"use strict";var e=t.jQuery,n=t.GOVUK||{};n.analyticsPlugins=n.analyticsPlugins||{},n.analyticsPlugins.externalLinkTracker=function(){function t(t){var a=i(t),s={transport:"beacon"},o=a.attr("href"),r=e.trim(a.text());r&&(s.label=r),n.analytics.trackEvent("External Link Clicked",o,s)}function i(t){var n=e(t.target);return n.is("a")||(n=n.parents("a")),n}var a=n.analyticsPlugins.externalLinkTracker.getHostname(),s='a[href^="http"]:not(a[href*="'+a+'"])';e("body").on("click",s,t)},n.analyticsPlugins.externalLinkTracker.getHostname=function(){return t.location.hostname},t.GOVUK=n}(window),function(t){"use strict";function e(){"function"==typeof t.ga&&t.ga.apply(t,arguments)}var n=t.jQuery,i=t.GOVUK||{},a=function(t,n){function i(){e("create",t,n)}function a(){e("set","anonymizeIp",!0)}"string"==typeof n&&(n={cookieDomain:n}),i(),a()};a.load=function(){!function(t,e,n,i,a,s,o){t.GoogleAnalyticsObject=a,t[a]=t[a]||function(){(t[a].q=t[a].q||[]).push(arguments)},t[a].l=1*new Date,s=e.createElement(n),o=e.getElementsByTagName(n)[0],s.async=1,s.src=i,o.parentNode.insertBefore(s,o)}(t,document,"script","https://www.google-analytics.com/analytics.js","ga")},a.prototype.trackPageview=function(t,i,a){var s;"string"==typeof t&&(s={page:t}),"string"==typeof i&&(s=s||{},s.title=i),"object"==typeof a&&(s=n.extend(s||{},a)),n.isEmptyObject(s)?e("send","pageview"):e("send","pageview",s)},a.prototype.trackEvent=function(t,n,i){i=i||{};var a,s={hitType:"event",eventCategory:t,eventAction:n};"string"==typeof i.label&&(s.eventLabel=i.label),"string"==typeof i.page&&(s.page=i.page),(i.value||0===i.value)&&("number"!=typeof(a=parseInt(i.value,10))||isNaN(a)||(s.eventValue=a)),i.nonInteraction&&(s.nonInteraction=1),i.transport&&(s.transport=i.transport),e("send",s)},a.prototype.trackSocial=function(t,n,i){e("send",{hitType:"social",socialNetwork:t,socialAction:n,socialTarget:i})},a.prototype.addLinkedTrackerDomain=function(t,n,i){e("create",t,"auto",{name:n}),e("require","linker"),e(n+".require","linker"),e("linker:autoLink",[i]),e(n+".linker:autoLink",[i]),e(n+".set","anonymizeIp",!0),e(n+".send","pageview")},a.prototype.setDimension=function(t,n){e("set","dimension"+t,String(n))},i.GoogleAnalyticsUniversalTracker=a,t.GOVUK=i}(window),function(t){"use strict";var e=t.jQuery,n=t.GOVUK||{};n.analyticsPlugins=n.analyticsPlugins||{},n.analyticsPlugins.mailtoLinkTracker=function(){function t(t){var a=i(t),s={transport:"beacon"},o=a.attr("href"),r=e.trim(a.text());r&&(s.label=r),n.analytics.trackEvent("Mailto Link Clicked",o,s)}function i(t){var n=e(t.target);return n.is("a")||(n=n.parents("a")),n}e("body").on("click",'a[href^="mailto:"]',t)},t.GOVUK=n}(window),function(t){"use strict";var e=t.GOVUK||{};e.analyticsPlugins=e.analyticsPlugins||{},e.analyticsPlugins.printIntent=function(){var n=function(){e.analytics.trackEvent("Print Intent",document.location.pathname),e.analytics.trackPageview("/print"+document.location.pathname)};if(t.matchMedia){var i=t.matchMedia("print"),a=0;i.addListener(function(t){t.matches||0!==a||(n(),a++,setTimeout(function(){a=0},3e3))})}t.onafterprint&&(t.onafterprint=n)},t.GOVUK=e}(window),function(t){"use strict";var e=t.jQuery,n=t.GOVUK||{};n.Modules=n.Modules||{},n.modules={find:function(t){t=t||e("body");var n,i="[data-module]";return n=t.find(i),t.is(i)&&(n=n.add(t)),n},start:function(t){function i(t){return s(a(t))}function a(t){return t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})}function s(t){return t.charAt(0).toUpperCase()+t.slice(1)}for(var o=this.find(t),r=0,l=o.length;r<l;r++){var u,c=e(o[r]),d=i(c.data("module")),h=c.data("module-started");"function"!=typeof n.Modules[d]||h||(u=new n.Modules[d],u.start(c),c.data("module-started",!0))}}},t.GOVUK=n}(window),function(t){"use strict";var e=t.GOVUK||{};e.Modules=e.Modules||{},e.Modules.AutoTrackEvent=function(){this.start=function(t){var n={nonInteraction:1},i=t.data("track-category"),a=t.data("track-action"),s=t.data("track-label"),o=t.data("track-value");"string"==typeof s&&(n.label=s),(o||0===o)&&(n.value=o),e.analytics&&e.analytics.trackEvent&&e.analytics.trackEvent(i,a,n)}},t.GOVUK=e}(window),function(t){"use strict";function e(t){this.$el=n(t.el),this._loadOption(t,"name"),this._loadOption(t,"customDimensionIndex",null),this._loadOption(t,"cohorts"),this._loadOption(t,"runImmediately",!0),this._loadOption(t,"defaultWeight",1),this._loadOption(t,"contentExperimentId",null),this._loadOption(t,"cookieDuration",30),this.runImmediately&&this.run()}var n=t.jQuery,i=t.GOVUK||{};e.prototype._loadOption=function(t,e,n){if(t[e]!==undefined&&(this[e]=t[e]),this[e]===undefined){if(n===undefined)throw new Error(e+" option is required for a multivariate test");this[e]=n}},e.prototype.run=function(){var t=this.getCohort();t&&(this.setUpContentExperiment(t),this.setCustomVar(t),this.executeCohort(t),this.createDummyEvent(t))},e.prototype.executeCohort=function(t){var e=this.cohorts[t];e.callback&&("string"==typeof e.callback?this[e.callback]():e.callback()),e.html&&(this.$el.html(e.html),this.$el.show())},e.prototype.getCohort=function(){var t=i.cookie(this.cookieName());return t&&this.cohorts[t]||(t=this.chooseRandomCohort(),i.cookie(this.cookieName(),t,{days:this.cookieDuration})),t},e.prototype.setCustomVar=function(t){if(this.customDimensionIndex&&this.customDimensionIndex.constructor===Array)for(var e=0;e<this.customDimensionIndex.length;e++)this.setDimension(t,this.customDimensionIndex[e]);else this.customDimensionIndex&&this.setDimension(t,this.customDimensionIndex)},e.prototype.setDimension=function(t,e){i.analytics.setDimension(e,this.cookieName()+"__"+t)},e.prototype.setUpContentExperiment=function(t){var e=this.contentExperimentId,n=this.cohorts[t].variantId;void 0!==e&&void 0!==n&&"function"==typeof window.ga&&(window.ga("set","expId",e),window.ga("set","expVar",n))},e.prototype.createDummyEvent=function(){i.analytics.trackEvent(this.cookieName(),"run",{nonInteraction:!0})},e.prototype.weightedCohortNames=function(){var t=[],e=this.defaultWeight;return n.each(this.cohorts,function(n,i){var a,s;for(a="undefined"==typeof i.weight?e:i.weight,s=0;s<a;s++)t.push(n)}),t},e.prototype.chooseRandomCohort=function(){var t=this.weightedCohortNames();return t[Math.floor(Math.random()*t.length)]},e.prototype.cookieName=function(){return"multivariatetest_cohort_"+this.name},i.MultivariateTest=e,t.GOVUK=i}(window),function(t){"use strict";var e=t.jQuery,n=t.GOVUK||{},i=function(t,n){this.$el=e(t),this.$extraLinks=this.$el.find("li:not("+n+")"),this.$extraLinks.length>1&&(this.addToggleLink(),this.hideExtraLinks())};i.prototype={toggleText:function(){return this.$extraLinks.length>1?"+"+this.$extraLinks.length+" others":"+"+this.$extraLinks.length+" other"},addToggleLink:function(){this.$toggleLink=e('<a href="#">'+this.toggleText()+"</a>"),this.$toggleLink.click(e.proxy(this.toggleLinks,this)),this.$toggleLink.insertAfter(this.$el)},toggleLinks:function(t){t.preventDefault(),this.$toggleLink.remove(),this.showExtraLinks()},hideExtraLinks:function(){this.$extraLinks.addClass("visuallyhidden"),e(window).trigger("govuk.pageSizeChanged")},showExtraLinks:function(){this.$extraLinks.removeClass("visuallyhidden"),e(window).trigger("govuk.pageSizeChanged")}},n.PrimaryList=i,n.primaryLinks={init:function(t){e(t).parent().each(function(e,i){new n.PrimaryList(i,t)})}},t.GOVUK=n}(window),function(t){"use strict";var e=t.jQuery,n=t.GOVUK||{},i=function(t,n){this.selectedClass="selected",this.focusedClass="focused",this.radioClass="selection-button-radio",this.checkboxClass="selection-button-checkbox",n!==undefined&&e.each(n,function(t,e){this[t]=e}.bind(this)),"string"==typeof t?(this.selector=t,this.setInitialState(e(this.selector))):t!==undefined&&(this.$elms=t,this.setInitialState(this.$elms)),this.addEvents()};i.prototype.addEvents=function(){"undefined"!=typeof this.$elms?this.addElementLevelEvents():this.addDocumentLevelEvents()},i.prototype.setInitialState=function(t){t.each(function(t,n){var i=e(n),a="radio"===i.attr("type")?this.radioClass:this.checkboxClass;i.parent("label").addClass(a),i.is(":checked")&&this.markSelected(i)}.bind(this))},i.prototype.markFocused=function(t,e){"focused"===e?t.parent("label").addClass(this.focusedClass):t.parent("label").removeClass(this.focusedClass)},i.prototype.markSelected=function(t){var n;"radio"===t.attr("type")?(n=t.attr("name"),e(t[0].form).find('input[name="'+n+'"]').parent("label").removeClass(this.selectedClass),t.parent("label").addClass(this.selectedClass)):t.is(":checked")?t.parent("label").addClass(this.selectedClass):t.parent("label").removeClass(this.selectedClass)},i.prototype.addElementLevelEvents=function(){this.clickHandler=this.getClickHandler(),this.focusHandler=this.getFocusHandler({level:"element"}),this.$elms.on("click",this.clickHandler).on("focus blur",this.focusHandler)},i.prototype.addDocumentLevelEvents=function(){this.clickHandler=this.getClickHandler(),this.focusHandler=this.getFocusHandler({level:"document"}),e(document).on("click",this.selector,this.clickHandler).on("focus blur",this.selector,this.focusHandler)},i.prototype.getClickHandler=function(){return function(t){this.markSelected(e(t.target))}.bind(this)},i.prototype.getFocusHandler=function(t){var n="document"===t.level?"focusin":"focus";return function(t){var i=t.type===n?"focused":"blurred";this.markFocused(e(t.target),i)}.bind(this)},i.prototype.destroy=function(){"undefined"!=typeof this.selector?e(document).off("click",this.selector,this.clickHandler).off("focus blur",this.selector,this.focusHandler):this.$elms.off("click",this.clickHandler).off("focus blur",this.focusHandler)},n.SelectionButtons=i,t.GOVUK=n}(window),function(t){"use strict";var e=t.jQuery,n=t.GOVUK||{};n.shimLinksWithButtonRole={init:function(){e(document).on("keydown",'[role="button"]',function(t){32===t.which&&(t.preventDefault(),t.target.click())})}},t.GOVUK=n}(window),function(t){"use strict";function e(){function t(t){return t.replace("[","\\[").replace("]","\\]")}function e(){var t=n(this),e=i(t);e.length&&(t.attr("aria-controls",e.attr("id")),t.attr("aria-expanded","false"),e.attr("aria-hidden","true"))}function i(t){var e=t.attr("aria-controls");return e||(e=t.closest("label").data("target")),n("#"+e)}function a(t,e){e.hasClass("js-hidden")&&(e.removeClass("js-hidden"),e.attr("aria-hidden","false"),t.attr("aria-controls")&&t.attr("aria-expanded","true"))}function s(t,e){e=e||i(t),e.hasClass("js-hidden")||(e.addClass("js-hidden"),e.attr("aria-hidden","true"),t.attr("aria-controls")&&t.attr("aria-expanded","false"))}function o(e,i){var o=d.radio+"[name="+t(e.attr("name"))+"][aria-controls]";e.closest("form").find(o).each(function(){s(n(this))}),e.is("[aria-controls]")&&a(e,i)}function r(t,e){t.is(":checked")?a(t,e):s(t,e)}function l(t,a,s,o){function r(){var t=n(this);o(t,i(t))}t=t||n(document.body);var l=n(a);l.each(e),n.each(s,function(e,n){t.on("click."+d.namespace,n,r)}),l.is(":checked")&&l.filter(":checked").each(r)}function u(){var t=[];return n(d.radio).map(function(){var e=n(this).attr("name");return-1===n.inArray(e,t)?(t.push(e),'input[type="radio"][name="'+n(this).attr("name")+'"]'):null})}var c=this,d={namespace:"ShowHideContent",radio:'.block-label[data-target] input[type="radio"]',checkbox:'.block-label[data-target] input[type="checkbox"]'};c.showHideRadioToggledContent=function(t){l(t,d.radio,u(),o)},c.showHideCheckboxToggledContent=function(t){l(t,d.checkbox,[d.checkbox],r)},c.destroy=function(t){t=t||n(document.body),t.off("."+d.namespace)}}var n=t.jQuery,i=t.GOVUK||{};e.prototype.init=function(t){this.showHideRadioToggledContent(t),this.showHideCheckboxToggledContent(t)},i.ShowHideContent=e,t.GOVUK=i}(window),function(t){"use strict";var e=t.jQuery,n=t.GOVUK||{},i={_hasScrolled:!1,_scrollTimeout:!1,_hasResized:!1,_resizeTimeout:!1,getWindowDimensions:function(){return{height:e(t).height(),width:e(t).width()}},getWindowPositions:function(){return{scrollTop:e(t).scrollTop()}},getElementOffset:function(t){return t.offset()},init:function(){var a=e(".js-stick-at-top-when-scrolling");a.length>0&&(i.$els=a,!1===i._scrollTimeout&&(e(t).scroll(i.onScroll),i._scrollTimeout=t.setInterval(i.checkScroll,50)),!1===i._resizeTimeout&&(e(t).resize(i.onResize),i._resizeTimeout=t.setInterval(i.checkResize,50))),n.stopScrollingAtFooter&&a.each(function(i,a){var s=e(a).find("img");if(s.length>0){var o=new t.Image;o.onload=function(){n.stopScrollingAtFooter.addEl(e(a),e(a).outerHeight())},o.src=s.attr("src")}else n.stopScrollingAtFooter.addEl(e(a),e(a).outerHeight())})},onScroll:function(){i._hasScrolled=!0},onResize:function(){i._hasResized=!0},checkScroll:function(){if(!0===i._hasScrolled){i._hasScrolled=!1;var t=i.getWindowPositions().scrollTop,n=i.getWindowDimensions();i.$els.each(function(a,s){var o=e(s),r=o.data("scrolled-from");r&&t<r?i.release(o):n.width>768&&t>=i.getElementOffset(o).top&&i.stick(o)})}},checkResize:function(){if(!0===i._hasResized){i._hasResized=!1;var t=i.getWindowDimensions();i.$els.each(function(n,a){var s=e(a);if(s.hasClass("js-sticky-resize")){var o=e(".shim"),r=s.parent("div"),l=r.width();o.css("width",l),s.css("width",l)}t.width<=768&&i.release(s)})}},stick:function(t){if(!t.hasClass("content-fixed")){t.data("scrolled-from",i.getElementOffset(t).top);var e=Math.max(t.height(),1);t.before('<div class="shim" style="width: '+t.width()+"px; height: "+e+'px">&nbsp;</div>'),t.css("width",t.width()+"px").addClass("content-fixed")}},release:function(t){t.hasClass("content-fixed")&&(t.data("scrolled-from",!1),t.removeClass("content-fixed").css("width",""),t.siblings(".shim").remove())}};n.stickAtTopWhenScrolling=i,t.GOVUK=n}(window),function(t){"use strict";var e=t.jQuery,n=t.GOVUK||{},i={_pollingId:null,_isPolling:!1,_hasScrollEvt:!1,_els:[],addEl:function(n,a){var s;if(n.length){s=parseInt(n.css("top"),10),s=isNaN(s)?0:s,i.updateFooterTop(),e(t).on("govuk.pageSizeChanged",i.updateFooterTop);var o=e("<div></div>");o.insertBefore(n);var r=o.offset().top-o.position().top;o.remove();var l={$fixedEl:n,height:a+s,fixedTop:a+r,state:"fixed"};i._els.push(l),i.initTimeout()}},updateFooterTop:function(){var t=e(".js-footer:eq(0)");if(0===t.length)return 0;i.footerTop=t.offset().top-10},initTimeout:function(){!1===i._hasScrollEvt&&(e(window).scroll(i.onScroll),i._hasScrollEvt=!0)},onScroll:function(){!1===i._isPolling&&i.startPolling()},startPolling:function(){return window.requestAnimationFrame?function(){var t=function(){i.checkScroll(),!0===i._isPolling&&i.startPolling()};i._pollingId=window.requestAnimationFrame(t),i._isPolling=!0}:function(){i._pollingId=window.setInterval(i.checkScroll,16),i._isPolling=!0}}(),stopPolling:function(){return window.requestAnimationFrame?function(){window.cancelAnimationFrame(i._pollingId),i._isPolling=!1}:function(){window.clearInterval(i._pollingId),i._isPolling=!1}}(),checkScroll:function(){var t=e(window).scrollTop();if(t<i.cachedScrollTop+2&&t>i.cachedScrollTop-2)return void i.stopPolling();i.cachedScrollTop=t,e.each(i._els,function(e,n){t+n.height>i.footerTop?i.stick(n):i.unstick(n)})},stick:function(t){"fixed"===t.state&&"fixed"===t.$fixedEl.css("position")&&(t.$fixedEl.css({position:"absolute",top:i.footerTop-t.fixedTop}),t.state="absolute")},unstick:function(t){"absolute"===t.state&&(t.$fixedEl.css({position:"",top:""}),t.state="fixed")}};n.stopScrollingAtFooter=i,e(t).load(function(){e(t).trigger("govuk.pageSizeChanged")}),t.GOVUK=n}(window),function(t){"use strict";var e={},n=!1,i=function(n){return"undefined"==typeof e[n]&&(document.getElementById(n)?e[n]=t("<div />").html(t(document.getElementById(n)).html().trim()).text():window.templates&&templates[n]&&(e[n]=templates[n])),e[n]},a=function(){var i;if(!1===n)if("undefined"==typeof window.templates)t('script[type="text/mustache"]').each(function(n,a){i=t(a).attr("id"),e[i]=t("<div />").html(t(a).html().trim()).text()});else if(window.templates)for(i in templates)e[i]=templates[i]},s=function(n,s){a();var o=i(n);if(void 0===o)t.error("Unknown template "+n);else if("object"==typeof o)return o.render(s,e);if(window.Hogan)return window.Hogan.compile(o).render(s,e);t.error("Must have Hogan.js to load string templates")};t.fn.mustache=function(t,e){return this.html(s(t,e))},t.mustache=function(t,e){return s(t,e)}}(jQuery),"undefined"==typeof window.Hogan&&(window.Hogan={}),function(t,e){function n(t){return String(null===t||t===undefined?"":t)}function i(t){return t=n(t),u.test(t)?t.replace(a,"&amp;").replace(s,"&lt;").replace(o,"&gt;").replace(r,"&#39;").replace(l,"&quot;"):t}t.Template=function(t,n,i,a){this.r=t||this.r,this.c=i,this.options=a,this.text=n||"",this.buf=e?[]:""},t.Template.prototype={r:function(){return""},v:i,t:n,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},rp:function(t,e,n,i){var a=n[t];return a?(this.c&&"string"==typeof a&&(a=this.c.compile(a,this.options)),a.ri(e,n,i)):""},rs:function(t,e,n){var i=t[t.length-1];if(!c(i))return void n(t,e,this);for(var a=0;a<i.length;a++)t.push(i[a]),n(t,e,this),t.pop()},s:function(t,e,n,i,a,s,o){var r;return(!c(t)||0!==t.length)&&("function"==typeof t&&(t=this.ls(t,e,n,i,a,s,o)),r=""===t||!!t,!i&&r&&e&&e.push("object"==typeof t?t:e[e.length-1]),r)},d:function(t,e,n,i){var a=t.split("."),s=this.f(a[0],e,n,i),o=null;if("."===t&&c(e[e.length-2]))return e[e.length-1];for(var r=1;r<a.length;r++)s&&"object"==typeof s&&a[r]in s?(o=s,s=s[a[r]]):s="";return!(i&&!s)&&(i||"function"!=typeof s||(e.push(o),s=this.lv(s,e,n),e.pop()),s)},f:function(t,e,n,i){for(var a=!1,s=null,o=!1,r=e.length-1;r>=0;r--)if((s=e[r])&&"object"==typeof s&&t in s){a=s[t],o=!0;break}return o?(i||"function"!=typeof a||(a=this.lv(a,e,n)),a):!i&&""},ho:function(t,e,n,i,a){var s=this.c,o=this.options;o.delimiters=a;var i=t.call(e,i);return i=null==i?String(i):i.toString(),this.b(s.compile(i,o).render(e,n)),!1},b:e?function(t){this.buf.push(t)}:function(t){this.buf+=t},fl:e?function(){var t=this.buf.join("");return this.buf=[],t}:function(){var t=this.buf;return this.buf="",t},ls:function(t,e,n,i,a,s,o){var r=e[e.length-1],l=null;if(!i&&this.c&&t.length>0)return this.ho(t,r,n,this.text.substring(a,s),o);if("function"==typeof(l=t.call(r))){if(i)return!0;if(this.c)return this.ho(l,r,n,this.text.substring(a,s),o)}return l},lv:function(t,e,i){var a=e[e.length-1],s=t.call(a);return"function"==typeof s&&(s=n(s.call(a)),this.c&&~s.indexOf("{{"))?this.c.compile(s,this.options).render(a,i):n(s)}}
;var a=/&/g,s=/</g,o=/>/g,r=/\'/g,l=/\"/g,u=/[&<>\"\']/,c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}(Hogan),window.templates={},window.templates["admin/shared/tagging/_breadcrumb_list"]=new Hogan.Template(function(t,e,n){var i=this;return i.b(n=n||""),i.s(i.f("breadcrumbs",t,e,1),t,e,0,16,113,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b('<div class="taxon-breadcrumb">'),i.b("\n"+n),i.b("  <ol>"),i.b("\n"+n),i.s(i.d(".",t,e,1),t,e,0,65,91,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b("      <li>"),n.b(n.v(n.d(".",t,e,0))),n.b("</li>"),n.b("\n")}),t.pop()),i.b("  </ol>"),i.b("\n"+n),i.b("</div>"),i.b("\n")}),t.pop()),i.fl()}),window.templates["documents/_filter_selections"]=new Hogan.Template(function(t,e,n){var i=this;return i.b(n=n||""),i.b('<span class="count">'),i.b(i.v(i.f("result_count",t,e,0))),i.b("</span> <strong>"),i.b(i.v(i.f("pluralized_result_type",t,e,0))),i.b("</strong>"),i.b("\n"+n),i.b('<span class="topics-selections">'),i.b("\n"+n),i.s(i.f("topics",t,e,1),t,e,0,134,287,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b("    about <strong>"),n.b(n.v(n.f("name",t,e,0))),n.b('</strong> <a href="'),n.b(n.v(n.f("url",t,e,0))),n.b('" data-field="topics" data-val="'),n.b(n.v(n.f("value",t,e,0))),n.b('" title="Remove '),n.b(n.v(n.f("name",t,e,0))),n.b(' filter">&times;</a> '),n.b(n.v(n.f("joining",t,e,0))),n.b("\n")}),t.pop()),i.b("</span>"),i.b("\n"+n),i.b('<span class="departments-selections">'),i.b("\n"+n),i.s(i.f("departments",t,e,1),t,e,0,363,518,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b("    by <strong>"),n.b(n.v(n.f("name",t,e,0))),n.b('</strong> <a href="'),n.b(n.v(n.f("url",t,e,0))),n.b('" data-field="departments" data-val="'),n.b(n.v(n.f("value",t,e,0))),n.b('" title="Remove '),n.b(n.v(n.f("name",t,e,0))),n.b(' filter">&times;</a> '),n.b(n.v(n.f("joining",t,e,0))),n.b("\n")}),t.pop()),i.b("</span>"),i.b("\n"+n),i.s(i.f("world_locations_any?",t,e,1),t,e,0,568,817,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b("from"),i.b("\n"+n),i.b('<span class="locations-selections">'),i.b("\n"+n),i.s(i.f("world_locations",t,e,1),t,e,0,632,788,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b("    <strong>"),n.b(n.v(n.f("name",t,e,0))),n.b('</strong> <a href="'),n.b(n.v(n.f("url",t,e,0))),n.b('" data-field="world_locations" data-val="'),n.b(n.v(n.f("value",t,e,0))),n.b('" title="Remove '),n.b(n.v(n.f("name",t,e,0))),n.b(' filter">&times;</a> '),n.b(n.v(n.f("joining",t,e,0))),n.b("\n")}),t.pop()),i.b("</span>"),i.b("\n")}),t.pop()),i.b("\n"+n),i.s(i.f("keywords",t,e,1),t,e,0,857,1086,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b("  containing"),i.b("\n"+n),i.b('  <span class="keyword-selections">'),i.b("\n"+n),i.b("    <strong>"),i.b(i.v(i.d("keywords.name",t,e,0))),i.b('</strong> <a href="'),i.b(i.v(i.d("keywords.url",t,e,0))),i.b('" data-field="keywords" data-val="'),i.b(i.v(i.d("keywords.name",t,e,0))),i.b('" title="Remove '),i.b(i.v(i.d("keywords.name",t,e,0))),i.b(' filter">&times;</a>'),i.b("\n"+n),i.b("  </span>"),i.b("\n")}),t.pop()),i.b("\n"+n),i.s(i.f("filtering_command_and_act_papers?",t,e,1),t,e,0,1139,1362,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('  <span class="official-document-status">which are <strong>Command or Act papers <a data-field="official_document_status" data-val="command_and_act_papers" title="Remove official status filter">&times;</a></strong></span>'),n.b("\n")}),t.pop()),i.s(i.f("filtering_command_papers_only?",t,e,1),t,e,0,1436,1649,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('  <span class="official-document-status">which are <strong>Command papers <a data-field="official_document_status" data-val="command_papers_only" title="Remove official status filter">&times;</a></strong></span>'),n.b("\n")}),t.pop()),i.s(i.f("filtering_act_papers_only?",t,e,1),t,e,0,1716,1921,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('  <span class="official-document-status">which are <strong>Act papers <a data-field="official_document_status" data-val="act_papers_only" title="Remove official status filter">&times;</a></strong></span>'),n.b("\n")}),t.pop()),i.b("\n"+n),i.s(i.f("include_world_location_news",t,e,1),t,e,0,1986,2088,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b('  <span class="world-location-news">'),i.b("\n"+n),i.b("    <strong>including location-specific news</strong>"),i.b("\n"+n),i.b("  </span>"),i.b("\n")}),t.pop()),i.b("\n"+n),i.s(i.f("date_from",t,e,1),t,e,0,2136,2189,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b("published <strong>after&nbsp;"),n.b(n.v(n.f("date_from",t,e,0))),n.b("</strong>"),n.b("\n")}),t.pop()),i.b("\n"+n),i.s(i.f("date_to",t,e,1),t,e,0,2217,2269,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b("published <strong>before&nbsp;"),n.b(n.v(n.f("date_to",t,e,0))),n.b("</strong>"),n.b("\n")}),t.pop()),i.fl()}),window.templates["documents/_filter_table"]=new Hogan.Template(function(t,e,n){var i=this;return i.b(n=n||""),i.s(i.f("results_any?",t,e,1),t,e,0,17,2144,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b('  <ol class="js-document-list document-list" data-module="track-click">'),i.b("\n"+n),i.s(i.f("results",t,e,1),t,e,0,106,1459,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b('      <li id="'),i.b(i.v(i.d("result.type",t,e,0))),i.b("_"),i.b(i.v(i.d("result.id",t,e,0))),i.b('" class="document-row">'),i.b("\n"+n),i.b("        <h3>"),i.b("\n"+n),i.b("          <a"),i.b("\n"+n),i.b('            href="'),i.b(i.v(i.d("result.url",t,e,0))),i.b('"'),i.b("\n"+n),i.b('            data-category="nav'),i.b(i.v(i.f("category",t,e,0))),i.b('LinkClicked"'),i.b("\n"+n),i.b('            data-action="'),i.b(i.v(i.f("index",t,e,0))),i.b('"'),i.b("\n"+n),i.b('            data-label="'),i.b(i.v(i.d("result.url",t,e,0))),i.b('"'),i.b("\n"+n),i.b('            data-options=\'{"dimension28":"'),i.b(i.v(i.f("count",t,e,0))),i.b('","dimension29":"'),i.b(i.v(i.d("result.title",t,e,0))),i.b("\"}'"),i.b("\n"+n),i.b("            >"),i.b(i.v(i.d("result.title",t,e,0))),i.b("</a>"),i.b("\n"+n),i.b("        </h3>"),i.b("\n"+n),i.b('        <ul class="attributes">'),i.b("\n"+n),i.b("          <li>"),i.b(i.t(i.d("result.display_date_microformat",t,e,0))),i.b("</li>"),i.b("\n"+n),i.b('          <li class="organisations">'),i.b(i.t(i.d("result.organisations",t,e,0))),i.b("</li>"),i.b("\n"+n),i.b('          <li class="display-type">'),i.b(i.v(i.d("result.display_type",t,e,0))),i.b("</li>"),i.b("\n"+n),i.s(i.d("result.field_of_operation",t,e,1),t,e,0,762,853,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('            <li class="field-of-operation">'),n.b(n.t(n.d("result.field_of_operation",t,e,0))),n.b("</li>"),n.b("\n")}),t.pop()),i.s(i.d("result.topics",t,e,1),t,e,0,912,979,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('            <li class="topics">'),n.b(n.t(n.d("result.topics",t,e,0))),n.b("</li>"),n.b("\n")}),t.pop()),i.s(i.d("result.publication_collections",t,e,1),t,e,0,1043,1141,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('            <li class="document-collections">'),n.b(n.t(n.d("result.publication_collections",t,e,0))),n.b("</li>"),n.b("\n")}),t.pop()),i.b("        </ul>"),i.b("\n"+n),i.s(i.d("result.historic?",t,e,1),t,e,0,1220,1421,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.s(i.d("result.government_name",t,e,1),t,e,0,1258,1385,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b('            <p class="historic">'),i.b("\n"+n),i.b("            First published during the "),i.b(i.v(i.d("result.government_name",t,e,0))),i.b("\n"+n),i.b("            </p>"),i.b("\n")}),t.pop())}),t.pop()),i.b("      </li>"),i.b("\n")}),t.pop()),i.b("  </ol>"),i.b("\n"+n),i.s(i.f("more_pages?",t,e,1),t,e,0,1498,2127,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b('    <nav id="show-more-documents" role="navigation">'),i.b("\n"+n),i.b('      <ul class="previous-next-navigation">'),i.b("\n"+n),i.s(i.f("prev_page?",t,e,1),t,e,0,1619,1837,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b('          <li class="previous">'),i.b("\n"+n),i.b('            <a href="'),i.b(i.v(i.f("prev_page_url",t,e,0))),i.b('">Previous <span class="visuallyhidden">page</span> <span class="page-numbers">'),i.b(i.v(i.f("prev_page",t,e,0))),i.b(" of "),i.b(i.v(i.f("total_pages",t,e,0))),i.b("</span></a>"),i.b("\n"+n),i.b("          </li>"),i.b("\n")}),t.pop()),i.s(i.f("next_page?",t,e,1),t,e,0,1876,2086,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b('          <li class="next">'),i.b("\n"+n),i.b('            <a href="'),i.b(i.v(i.f("next_page_url",t,e,0))),i.b('">Next <span class="visuallyhidden">page</span> <span class="page-numbers">'),i.b(i.v(i.f("next_page",t,e,0))),i.b(" of "),i.b(i.v(i.f("total_pages",t,e,0))),i.b("</span></a>"),i.b("\n"+n),i.b("          </li>"),i.b("\n")}),t.pop()),i.b("      </ul>"),i.b("\n"+n),i.b("    </nav>"),i.b("\n")}),t.pop())}),t.pop()),i.s(i.f("results_any?",t,e,1),t,e,1,0,0,"")||(i.b('  <div class="no-results">'),i.b("\n"+n),i.b("    <h2>"),i.b(i.v(i.f("no_results_title",t,e,0))),i.b("</h2>"),i.b("\n"+n),i.b("    <p>"),i.b(i.v(i.f("no_results_description",t,e,0))),i.b("</p>"),i.b("\n"+n),i.b("    <h3>"),i.b(i.t(i.f("no_results_tna_heading",t,e,0))),i.b("</h3>"),i.b("\n"+n),i.b("    <p>"),i.b(i.t(i.f("no_results_tna_link",t,e,0))),i.b("</p>"),i.b("\n"+n),i.b("  </div>"),i.b("\n")),i.fl()}),function(){"use strict";window.GOVUK=window.GOVUK||{},window.GOVUK.instances={},window.GOVUK.init=function(t,e){function n(t,e){var n=new t(e);return a(n),n}function i(t,e){return t.init(e),t}function a(t){GOVUK.instances[t.constructor.name]=GOVUK.instances[t.constructor.name]||[],GOVUK.instances[t.constructor.name].push(t)}return"function"==typeof t?n(t,e):i(t,e)}}(jQuery),function(){"use strict";var t=this,e=t.jQuery;"undefined"==typeof t.GOVUK&&(t.GOVUK={});var n=function(){e(document).on("click","form input[type=submit]",function(){var t=e(this),n=t.attr("name"),i=t.val();t.data("confirm")||(t.before('<input type="hidden" name="'+n+'" value="'+i+'">'),t.attr("disabled","disabled"),t.closest("form").submit())})};t.GOVUK.doubleClickProtection=n}.call(this),function(){"use strict";var t=this,e=t.jQuery;"undefined"==typeof t.GOVUK&&(t.GOVUK={});var n={init:function(){n.$sets=e(".js-duplicate-fields"),n.addButton(),n.removeButton(),n.hideDestroyedFields()},addButton:function(){n.$sets.each(function(){var t=e(this),i=e('<a href="#" class="btn btn-default add-bottom-margin add_new js-add-button">Add another</a>');t.append(i),i.on("click",n.addFields)})},addFields:function(t){t.preventDefault();var i=e(t.target),a=i.closest(".js-duplicate-fields"),s=a.find(".js-duplicate-fields-set").last(),o=s.clone(!0);o.find("input[type=text], input[type=hidden], textarea").val(""),o.show(),n.incrementIndexes(o),i.before(o)},removeButton:function(){n.$sets.each(function(){var t=e(this),i=e('<a href="#" class="btn btn-danger js-remove-button">Remove</a>'),a=t.find(".js-duplicate-fields-set");a.append(i),a.find("a.js-remove-button").on("click",n.removeFields)})},removeFields:function(t){t.preventDefault();var i=e(t.target),a=i.closest(".js-duplicate-fields-set"),s=n.destroyInputFor(a);a.hide(),a.find("input").val(""),a.append(s)},destroyInputFor:function(t){var n=t.find("input[type=text], textarea").first(),i=n.attr("name"),a=n.attr("id"),s=a.replace(/_[a-zA-Z]+$/,"__destroy"),o=i.replace(/\[[_a-zA-Z]+\]$/,"[_destroy]");return e('<input class="js-hidden-destroy" id="'+s+'" name="'+o+'" type="hidden" value="true" />')},hideDestroyedFields:function(){n.$sets.each(function(){e(this).find('.js-hidden-destroy[value="true"], .js-hidden-destroy[value="1"]').closest(".js-duplicate-fields-set").hide()})},incrementIndexes:function(t){t.find("label,input,textarea,select").each(function(t,n){var i,a=e(n),s=a.attr("name"),o=a.attr("id"),r=a.attr("for"),l=!1,u=/(.*)\[([0-9]+)\](.*?)$/,c=/(.*)_([0-9]+)_(.*?)$/;s&&u.exec(s)&&(i=u.exec(s),l=parseInt(i[2],10),a.attr("name",i[1]+"["+(l+1)+"]"+i[3])),c.exec(o)&&(i=c.exec(o),!1===l&&(l=parseInt(i[2],10)),a.attr("id",i[1]+"_"+(l+1)+"_"+i[3])),c.exec(r)&&(i=c.exec(r),!1===l&&(l=parseInt(i[2],10)),a.attr("for",i[1]+"_"+(l+1)+"_"+i[3]))})}};t.GOVUK.duplicateFields=n}.call(this),jQuery.elemental=function(t,e,n){if(attributes=[],"string"==typeof n){var i,a;(i=n.match(/(\.)([-\w]+)/))?a={"class":i[2]}:(i=n.match(/(\#)([-\w]+)/))&&(a={id:i[2]}),n=a}for(key in n)attributes.push(key+'="'+n[key]+'"');var s=$("<"+t+" "+attributes.join(" ")+" />");return"string"==typeof e?s.text(e):null!=e&&s.append(e),s},jQuery(["div","span","ul","ol","li","a","p"]).each(function(){var t=this;$[t]=function(){return $.elemental(t,arguments[0],arguments[1])}}),function(t){t.fn.flashNotice=function(){if(t(this).addClass("js-flash").fadeIn(),!t(this).hasClass("alert"))var e=t(this),n=setTimeout(function(){e.fadeOut()},3e3);t(this).click(function(){n&&clearTimeout(n),t(this).fadeOut()})},t.fn.showNotice=function(e){t(this).html("<p class='flash notice'>"+e+"</p>"),t(".notice",this).flashNotice()},t.fn.showAlert=function(e){t(this).html("<p class='flash alert'>"+e+"</p>"),t(".alert",this).flashNotice()}}(jQuery),function(t){function e(t){if(t.indexOf("youtube.com")>-1){var e,n,i,a,s={};if(a=t.split("?"),1===a.length)return;for(a=a[1].split("&"),e=0,n=a.length;e<n;e++)i=a[e].split("="),s[i[0]]=i[1];return s.v}if(t.indexOf("youtu.be")>-1){var a=t.split("/");return a.pop()}}var n=function(){this.find("a[href*='youtube.com'], a[href*='youtu.be']").each(function(n){var i=t(this),a=e(i.attr("href")),s=t("<span />"),o=i.siblings(".captions");void 0!==a&&(i.parent().replaceWith(s),s.player({id:"youtube-"+n,media:a,captions:o.length>0?o.attr("href"):null,url:document.location.protocol+"//www.youtube.com/apiplayer?enablejsapi=1&version=3&playerapiid="}))})};t.fn.extend({enhanceYoutubeVideoLinks:n})}(jQuery),jQuery(function(t){t(".flash.notice, .flash.alert").flashNotice()}),function(){"use strict";window.GOVUK=window.GOVUK||{},window.GOVUK.Proxifier={proxifyMethod:function(t,e){t[e]=$.proxy(t[e],t)},proxifyMethods:function(t,e){for(var n=0;n<e.length;n++)this.proxifyMethod(t,e[n])},proxifyAllMethods:function(t){for(var e in t)"function"==typeof t[e]&&e.match(/^[a-z]/)&&this.proxifyMethod(t,e)}}}(),function(){"use strict";var t=this,e=t.jQuery;"undefined"==typeof t.GOVUK&&(t.GOVUK={});var n={_hasScrolled:!0,_scrollTimeout:!1,init:function(){var t=e(".js-back-to-content");t.length>0&&(n.$els=t,!1===n._scrollTimeout&&(e(window).scroll(n.onScroll),n._scrollTimeout=window.setInterval(n.checkScroll,50)),e(window).resize(n.onResize),n.checkScroll())},onScroll:function(){n._hasScrolled=!0},checkScroll:function(){if(!0===n._hasScrolled){n._hasScrolled=!1;var t=e(window).scrollTop();n.$els.each(function(i,a){var s,o,r=e(a),l=50,u=r.data("backToContent-start"),c=r.data("backToContent-stop"),d=r.data("backToContent-offset"),h=r.data("backToContent-windowOffset");u||(s=e(r.find("a").attr("href")),u=s.height()+s.offset().top+l,r.data("backToContent-start",u),o="auto"==r.css("top"),d=e("#page").offset().top-(o?-15:15),r.data("backToContent-offset",d),h=o?e(window).height()-r.height():0,r.data("backToContent-windowOffset",h),c=e(".js-back-to-content-stop").offset().top-l-h+r.height(),r.data("backToContent-stop",c)),u<t?n.show(r):n.hide(r),c<t?n.stick(r,c-d+h):n.unstick(r)})}},stick:function(t,e){t.css({position:"absolute",top:e})},unstick:function(t){t.css({position:"",top:""})},hide:function(t){t.addClass("visuallyhidden")},show:function(t){e(window).width()>768&&t.removeClass("visuallyhidden")}};t.GOVUK.backToContent=n}.call(this),$(govspeakBarcharts),function(){"use strict";function t(t){$(function(){GOVUK.userSatisfaction&&(GOVUK.userSatisfaction.setSurveyUrl(t.surveyUrl),GOVUK.userSatisfaction.showSurveyBar())})}window.GOVUK=window.GOVUK||{},GOVUK.CustomUserSatisfactionSurvey=t}(),function(){"use strict";function t(t){function e(){GOVUK.analytics.trackShare("facebook")}function n(){GOVUK.analytics.trackShare("twitter")}var i=$(t.el);i.on("click",".facebook",e),i.on("click",".twitter",n)}window.GOVUK=window.GOVUK||{},GOVUK.DocumentShareLinks=t}(),"undefined"==typeof window.GOVUK&&(window.GOVUK={}),function(t){"use strict";var e={loading:!1,$form:null,formType:"",renderTable:function(e){t(".js-filter-results").mustache("documents/_filter_table",e)},showStatisticsNotice:function(){t(".filter-results-summary").empty(),t(".js-filter-results").html(t("#statistics-moved-notice").text())},updateAtomFeed:function(e){e.atom_feed_url&&(t(".feeds .feed").attr("href",e.atom_feed_url),t(".feed-panel input").val(e.atom_feed_url))},updateEmailSignup:function(e){e.email_signup_url&&t(".feeds .govdelivery").attr("href",e.email_signup_url)},updateFeeds:function(n){t(".feeds").removeClass("js-hidden"),e.updateAtomFeed(n),e.updateEmailSignup(n)},updateHistory:function(t){history.pushState(e.currentPageState(),null,t)},updateTracking:function(t){GOVUK.analytics.trackPageview(t)},submitFilters:function(n){n.preventDefault();var i=e.$form,a=i.find("input[type=submit]"),s=i.attr("action"),o=s+".json",r=i.serializeArray(),l=s+"?"+i.serialize();if("statistics"==i.find("#publication_filter_option option:selected").val())return t(".feeds").addClass("js-hidden"),e.showStatisticsNotice(),e.updateHistory(l),void e.updateTracking(l);a.addClass("disabled"),t(".filter-results-summary").text("Loading results\u2026"),t(".feeds").addClass("js-hidden"),e.loading=!0,t.ajax(o,{cache:!1,dataType:"json",data:r,complete:function(){e.loading=!1},success:function(t){e.updateFeeds(t),t.results&&(e.renderTable(t),e.liveResultSummary(t)),e.updateHistory(l),e.updateTracking(l)},error:function(){a.removeAttr("disabled")}})},urlWithout:function(t,e){var n=window.location.search,i=new RegExp("&?"+t+"%5B%5D="+e+"&?");return n.replace(i,"&")},liveResultSummary:function(n){var i,a,s,o,r,l=t(".filter-results-summary"),u=t(".headings-block h1"),c=e.currentPageState(),d={};if(l.html(""),u.find("span").remove(),n.result_type||(n.result_type="result"),d.result_count=e._numberWithDelimiter(n.total_count),d.pluralized_result_type=e._pluralize(n.result_type,n.total_count),c.selected)for(i=0,a=c.selected.length;i<a;i++)if(r=c.selected[i],r.title.length>0)if("publication_filter_option"==r.id||"announcement_filter_option"==r.id)"all"!=r.value&&u.html(u.text().trim()+"<span>: "+r.title[0]+"</span>");else if("world_locations"===r.id){for(d.world_locations=[],s=0,o=r.title.length;s<o;s++)"all"!==r.value[s]&&d.world_locations.push({name:r.title[s],url:e.urlWithout(r.id,r.value[s]),value:r.value[s],joining:s<o-1?"and":""});d.world_locations.length>0&&(d["world_locations_any?"]=!0)}else if("official_document_status"==r.id)switch(r.value[0]){case"command_and_act_papers":d["filtering_command_and_act_papers?"]=!0;break;case"command_papers_only":d["filtering_command_papers_only?"]=!0;break;case"act_papers_only":d["filtering_act_papers_only?"]=!0}else if("sub_orgs"!=r.id&&"date"!=r.id)for(d[r.id]=[],s=0,o=r.title.length;s<o;s++)"all"!==r.value[s]&&d[r.id].push({name:r.title[s],url:e.urlWithout(r.id,r.value[s]),value:r.value[s],joining:s<o-1?"and":""});if(c.text)for(i=0,a=c.text.length;i<a;i++)r=c.text[i],r.value.length&&("keywords"===r.id?d.keywords={name:r.value,url:e.urlWithout(r.id,r.value)}:"from_date"===r.id?d.date_from=r.value:"to_date"===r.id&&(d.date_to=r.value));if(c.checked)for(i=0,a=c.checked.length;i<a;i++)r=c.checked[i],"include_world_location_news"===r.id&&"1"===r.value&&(d.include_world_location_news=!0);l.mustache("documents/_filter_selections",d)},removeFilters:function(e,n){var i=["topics","departments","world_locations","official_document_status"],a=["keywords","from_date","to_date"];if(t.inArray(e,i)>-1){var s=t("select option[value='"+n+"']");if(s.length){s.removeAttr("selected");var o=s.closest("select");0===o.find(":selected").length&&o.find(">:first-child").prop("selected",!0),o.change()}}else if(t.inArray(e,a)>-1){var r=t("input#"+e);if(r.length){var l=r.val(),u=new RegExp(n);r.val(l.replace(u,"").trim())}r.parents("form").submit()}},currentPageState:function(){return{html:t(".js-filter-results").html(),selected:t.map(e.$form.find("select"),function(e){var n=t(e),i=n.attr("id"),a=[],s=[];return t("#"+i+" option:selected").each(function(){a.push(t(this).text()),s.push(t(this).attr("value"))}),{id:i,value:s,title:a}}),text:t.map(e.$form.find("input[type=text]"),function(e){var n=t(e);return{id:n.attr("id"),value:n.val()}}),checked:t.map(e.$form.find("input[type=radio]:checked, input[type=checkbox]:checked"),function(e){var n=t(e);return{id:n.attr("id"),value:n.val()}})}},onPopState:function(e){e.state&&e.state.html&&(t(".js-filter-results").html(e.state.html),t.each(e.state.selected,function(e,n){t("#"+n.id).val(n.value)}),t.each(e.state.text,function(e,n){t("#"+n.id).val(n.value)}),t.each(e.state.checked,function(e,n){t("#"+n.id).attr("checked",!0)}))},_numberWithDelimiter:function(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")},_pluralize:function(t,e){return 1===e?t:"y"===t.slice(-1)?t.slice(0,-1)+"ies":t+"s"}};window.GOVUK.documentFilter=e;var n=function(){return window.ieVersion&&6===ieVersion?this:(this.each(function(){if(window.GOVUK.support.history()){var n=t(this);t(window).on("popstate",function(t){e.onPopState(t)}),e.$form=n,e.formType=n.attr("action").split("/").pop(),history.replaceState(e.currentPageState(),null),n.submit(e.submitFilters);var i=function(){var t=0;return function(e,n){clearTimeout(t),t=setTimeout(e,n)}}();n.find("select, input[type=checkbox]").change(function(){n.submit()}),t("#keyword-filter").add(".date-range-filter").find("input[type=text]").keyup(function(){i(function(){n.submit()},600)}),t(".filter-results-summary").delegate("a","click",function(n){n.preventDefault(),e.removeFilters(t(this).data("field"),t(this).data("val"))}),n.find("input[type=submit]").addClass("js-hidden")}}),this)};t.fn.extend({enableDocumentFilter:n})}(jQuery),function(){"use strict";window.GOVUK=window.GOVUK||{},window.GOVUK.feeds={init:function(){$(".js-feed").on("click",window.GOVUK.feeds.toggle)},toggle:function(t){t.preventDefault();var e=$(t.target).siblings(".js-feed-panel");e.toggle(),e.find("input").select()}}}(),function(){"use strict";var t=this,e=t.jQuery;"undefined"==typeof t.GOVUK&&(t.GOVUK={});var n={_terms:!1,_regexCache:{},_trackTimeout:!1,init:function(){var t=e(".js-filter-list");1===t.length&&(n.$form=e(".js-filter-form").show(),n.$filterItems=e(".js-filter-item"),n.$filterBlock=e(".js-filter-block"),t.append(n.$form),n.$form.submit(n.updateResults),n.$form.find("input").keyup(n.updateResults))},updateResults:function(t){t.preventDefault();var i=n.$form.find("input").val(),a=n.getItems(i);e(document).trigger("govuk.hideDepartmentChildren.hideAll"),n.$filterItems.hide(),e(a).show(),n.hideEmptyBlocks(a),n.track(i)},track:function(e){clearTimeout(n._trackTimeout),n._trackTimeout=t.setTimeout(function(){var t=window.location.pathname.split("/").pop();t&&GOVUK.analytics.trackEvent("searchBoxFilter",e,{label:t,nonInteraction:!0})},1e3)},hideEmptyBlocks:function(t){0===t.length?(e(".js-filter-no-results").addClass("reveal"),n.$filterBlock.hide()):(e(".js-filter-no-results").removeClass("reveal"),n.$filterBlock.show(),n.$filterBlock.each(function(t,n){var i=e(n),a=i.find(".js-filter-count"),s=i.find(".js-filter-item:visible");0===s.length?i.hide():a.length>0&&a.text(s.length)}))},getItems:function(t){var e,i=n.getRegex(t),a=n.getFilterTerms(),s=[];for(e in a)e.match(i)&&s.push(a[e]);return s},getRegex:function(t){return"undefined"==typeof n._regexCache[t]&&(n._regexCache[t]=new RegExp(t.replace(/\W/,".*"),"i")),n._regexCache[t]},getFilterTerms:function(){return!1===n._terms&&(n._terms={},n.$filterItems.each(function(t,i){n._terms[e(i).data("filter-terms")]=i})),n._terms}};t.GOVUK.filterListItems=n}.call(this),function(){"use strict";var t=this,e=t.jQuery;"undefined"==typeof t.GOVUK&&(t.GOVUK={});var n={init:function(){var i=e(".js-hide-department-children .department"),a=t.location.hash;i.each(function(t,n){var i=e(n),s=i.find(".organisations-box"),o=e('<a href="#" class="view-all">view all</a>');0===i.find(a).length&&i.toggleClass("js-hiding-children"),s.removeClass("js-hidden"),o.click(function(t){t.preventDefault(),i.toggleClass("js-hiding-children")}),o.insertBefore(s)}),e(document).on("govuk.hideDepartmentChildren.hideAll",n.hideAllChildren)},hideAllChildren:function(){e(".js-hide-department-children .department").addClass("js-hiding-children")}};t.GOVUK.hideDepartmentChildren=n}.call(this),function(t){"use strict";function e(t){return parseInt(t.position().top,10)}t.fn.hideExtraRows=function(n){return n=t.extend({rows:1},n),this.each(function(i,a){var s=t(a).contents(),o=t('<span class="js-hidden" />');if(s.length>1){var r=s.filter(function(){return 1===this.nodeType}).first(),l=e(r),u=0;if(s.slice(1).each(function(i,a){1===a.nodeType&&u<n.rows&&e(t(a))>l&&(l=e(t(a)),u+=1),u>=n.rows&&o[0].appendChild(a)}),o.contents().length>0){var c=t('<a class="show-other-content" href="#" title="Show additional content"><span class="plus">+&nbsp;</span>others</a>');c.on("click",function(e){e.preventDefault(),o.removeClass("js-hidden").focus(),n.showWrapper?n.showWrapper.remove():t(e.target).remove()}),t(a).append(o),n.showWrapper&&(c=n.showWrapper.append(c)),n.appendToParent?s.first().parent().append(c):s.first().parent().after(c)}}}),this}}(jQuery),function(t){"use strict";t.fn.hideOtherLinks=function(e){var n={linkElement:"a",alwaysVisibleClass:".always-visible",showCount:1};return t.extend(n,e),t(this).each(function(e,i){var a=t(i),s=t('<span class="other-content" />'),o=[],r=[],l=o,u=!1;if(!(n.showCount>0&&a.children(n.linkElement).length<=2&&a.text().length<=100)){var c=0;if(t(a.contents()).each(function(e,i){if(c>=n.showCount&&t(i).is(n.linkElement)&&!t(i).is(n.alwaysVisibleClass)&&(l=r),i.nodeValue&&("."===i.nodeValue||i.nodeValue.match(/^\s+$/)))return void(u="."===i.nodeValue);l.push(i),t(i).is(n.linkElement)&&(c+=1)}),r.length){a.empty(),t(o).each(function(t,e){a[0].appendChild(e)}),t(r).each(function(t,e){s[0].appendChild(e)}),a.append(s),u&&a.append("."),s.hide();var d=s.children(n.linkElement).length,h=t('<a href="#" class="show-other-content" title="Show additional links"><span class="plus">+&nbsp;</span>'+d+" other"+(d>1?"s":"")+"</a>");h.on("click",function(e){e.preventDefault(),t(this).remove(),s.show().focus()}),s.before(h),a.attr("aria-live","polite")}}}),this}}(jQuery),function(){"use strict";function t(t){GOVUK.support.history()&&(GOVUK.Proxifier.proxifyAllMethods(this),this.$form=$(t.form_element),this.$results=$(t.results_element),this.searchUrl=t.search_url,this.loadingMessageSelector=t.loading_message_holder,this.loadingMessageText=t.loading_message_text,this.$form.find("input[type=submit]").hide(),this.$form.find("select").on("change",this.updateResults),this.$form.find("input[type=text]").on("change keyup",this.updateResultsAfterDelay),$(window).on("popstate",this.onHistoryPopState))}window.GOVUK=window.GOVUK||{},t.prototype.UPDATE_DELAY=300,t.prototype.HISTORY_REPLACE_NOT_PUSH_FOR=2e3,t.prototype.updateResultsAfterDelay=function(){this.updateDelayTimeout&&window.clearTimeout(this.updateDelayTimeout),this.updateDelayTimeout=window.setTimeout(this.updateResults,this.UPDATE_DELAY)},t.prototype.updateResults=function(){this.pushToHistory(),this.getResultsFromRemote(this.getFilterParams())},t.prototype.getResultsFromRemote=function(t){this.renderLoadingMessage(),$.ajax({type:"get",url:this.searchUrl,data:t,cache:!1}).then(this.handleResponse)},t.prototype.handleResponse=function(t){this.$results.html(t)},t.prototype.getFilterParams=function(){var t=[];return $.each(this.$form.serializeArray(),function(e,n){""!==n.value&&t.push(n)}),t},t.prototype.urlForParams=function(t){return 0==t.length?this.searchUrl:this.searchUrl+"?"+$.param(t)},t.prototype.renderLoadingMessage=function(){var t=$("<p></p>").html(this.loadingMessageText);$(this.loadingMessageSelector).empty().append(t)},t.prototype.pushToHistory=function(){var t=this.getFilterParams();this.historyReplaceDontPushTimeout?history.replaceState(t,null,this.urlForParams(t)):history.pushState(t,null,this.urlForParams(t)),this.historyReplaceDontPushTimeout&&window.clearTimeout(this.historyReplaceDontPushTimeout),this.historyReplaceDontPushTimeout=window.setTimeout($.proxy(function(){this.historyReplaceDontPushTimeout=null},this),this.HISTORY_REPLACE_NOT_PUSH_FOR)},t.prototype.onHistoryPopState=function(t){var e=t.state||t.originalEvent.state;null!=e&&(this.setFieldValues(e),this.getResultsFromRemote(e))},t.prototype.setFieldValues=function(t){t=t||[];for(var e={},n=0;n<t.length;n++)e[t[n].name]=t[n].value;$("input:not([type=submit]), select",this.$form).each(function(t,n){n=$(n),"undefined"==typeof e[n.attr("name")]?n.val(""):n.val(e[n.attr("name")])})},GOVUK.RemoteSearchFilter=t}(),jQuery(function(t){t(".js-hide-other-links").hideOtherLinks(),t(".js-hide-other-departments").hideOtherLinks({linkElement:"span",alwaysVisibleClass:".lead"}),t(".govspeak").enhanceYoutubeVideoLinks(),t(".js-toggle-change-notes").toggler({actLikeLightbox:!0}),t(".js-toggle-footer-change-notes").toggler(),t(".js-document-filter").enableDocumentFilter(),t(".js-hide-extra-social-media").hideExtraRows({rows:5}),t(".js-hide-extra-metadata").hideExtraRows({rows:2,appendToParent:!0}),t(".see-all-updates").click(function(){t("#history .overlay").removeClass("visuallyhidden")}),GOVUK.hideDepartmentChildren.init(),GOVUK.filterListItems.init(),GOVUK.showHide.init(),GOVUK.virtualTour.init(),GOVUK.feeds.init()}),jQuery(window).load(function(){GOVUK.backToContent.init()}),function(){"use strict";var t=this,e=t.jQuery;"undefined"==typeof t.GOVUK&&(t.GOVUK={});var n={init:function(){n.$toggle=e(".js-showhide"),n.$toggle.length>0&&(n.$target=e(n.$toggle[0].hash),n.$toggle.on("click",n.toggle),n.$toggle.is(":visible")&&n.hideStuff())},toggle:function(t){return t.preventDefault(),n.$target.hasClass("js-hidden")?n.showStuff():n.hideStuff(),!1},showStuff:function(){n.$target.removeClass("js-hidden"),n.$toggle.removeClass("closed").text(n.$toggle.text().replace("Show","Hide"))},hideStuff:function(){n.$target.addClass("js-hidden"),n.$toggle.addClass("closed").text(n.$toggle.text().replace("Hide","Show"))}};t.GOVUK.showHide=n}.call(this),"undefined"==typeof window.GOVUK&&(window.GOVUK={}),"undefined"==typeof window.GOVUK.support&&(window.GOVUK.support={}),window.GOVUK.support.history=function(){return window.history&&window.history.pushState&&window.history.replaceState},function(t){t.fn.toggler=function(e){return e=t.extend({header:".toggle",content:".overlay",showArrow:!0,actLikeLightbox:!1},e),this.each(function(n,i){function a(){s.toggleClass("open"),r.toggleClass("visuallyhidden"),t(document).trigger("govuk.pageSizeChanged")}var s=t(i),o=s.find(e.header),r=s.find(e.content);o.length>0&&r.length>0&&(o.attr("tabindex",0),s.addClass("toggleable"),r.addClass("visuallyhidden"),r.removeClass("js-hidden"),e.showArrow&&r.prepend('<span class="arrow"></span>'),o.keyup(function(t){13==t.which&&(t.preventDefault(),a())}),o.click(function(t){t.preventDefault()}),o.mouseup(function(t){t.preventDefault(),a()}),e.actLikeLightbox&&t(document).click(function(e){0===t(e.target).closest(s).length&&s.hasClass("open")&&a()}))}),this}}(jQuery),function(){"use strict";function t(t){this.$el=$(t.el),this.$el.find(".other-organisations").hideOtherLinks({showCount:0,linkElement:"span"})}window.GOVUK=window.GOVUK||{},window.GOVUK.AttachmentsPreview=t}(),function(){"use strict";var t=this,e=t.jQuery;"undefined"==typeof t.GOVUK&&(t.GOVUK={});var n={tours:[],addTourPlayerWrapper:function(){n.$player=e('<div id="tour-player"></div>'),n.$tour.prepend(n.$player)},findTours:function(){n.$tour.find(".tour-info").each(function(t,i){var a=e(i);n.tours.push({$el:a,id:a.attr("id"),title:a.find("h3"),xml:a.data("tour-xml")})})},findTour:function(t){var e,i;for(e=0,i=n.tours.length;e<i;e++)if(n.tours[e].id===t)return n.tours[e];return!1},switchTour:function(t){var i=e(t.target).attr("href").substr(1),a=n.findTour(i);t.preventDefault(),n.loadTour(a)},loadTour:function(t){n.$player.html(""),embedpano({swf:"https://assets.publishing.service.gov.uk/government/assets/tour/tour_pano-1e5db151fd1267a89125acf85c9aec9ad84c1b767524cdb1450a6f66e9e4e8ea.swf",xml:t.xml,target:"tour-player"}),n.$tour.find(".js-visible").not(t.$el).removeClass("js-visible"),t.$el.addClass("js-visible"),n.$nav.find("a").removeClass("active-tour"),n.$nav.find("a[href$='#"+t.$el.attr("id")+"']").addClass("active-tour")},init:function(){n.$tour=e(".js-virtual-tour"),1===n.$tour.length&&(n.findTours(),n.addTourPlayerWrapper(),n.$nav=n.$tour.find(".tour-nav"),n.$nav.on("click","a",n.switchTour),n.loadTour(n.tours[0]))}};t.GOVUK.virtualTour=n}.call(this);